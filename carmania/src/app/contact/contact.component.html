<div class="container container-small contact-container mt-5">
  <h1>Contact us here</h1>
  <form [formGroup]="contactForm" (submit)="submitForm()">

    <div class="form-group mb-3">
        <input
          type="email"
          class="form-control"
          id="email"
          formControlName="email"
          placeholder="Enter email"
        >

        
        <p class="error-label" *ngIf="!contactForm.get('email').valid && contactForm.get('email').touched">
            <span *ngIf="contactForm.controls['email'].errors.required"> This input is required</span>
            <span *ngIf="contactForm.controls['email'].errors.email"> Email is wrong</span>
        </p>
    </div>

    <div class="form-group mb-3">
      <label>Tell us why are you contacting us</label>
        <select
          class="form-control"
          id="subject"
          formControlName="subject"
        >
          <option *ngFor="let subject of subjectsForm" [value]="subject">
            {{ subject }}
          </option>
        </select>
        <div class="error-label" *ngIf="!contactForm.get('subject').valid && contactForm.get('subject').touched">
          This input is required
        </div>
    </div>

    <div class="form-group mb-3">
        <label>Write us a message</label>
        <textarea
          class="form-control"
          id="message"
          formControlName="message"
          rows="3"
        ></textarea>
        <div class="error-label" *ngIf="!contactForm.get('message').valid && contactForm.get('message').touched">
            You need to add something here
         </div>
    </div>

    <button 
      type="submit"
      class="btn btn-outline-primary mb-3"
    >
      Submit
    </button>

    <alert
      class="mt-3"
      type="danger"
      *ngIf="onError.show"
      [dismissible]="true"
      (onClosed)="resetError()"
    >
      {{ onError.message }}
    </alert>

    <alert
    class="mt-3"
      type="success"
      *ngIf="onSuccess"
      dismissOnTimeout="1500"
      (onClosed)="onSuccess = false"
    >
      Thank you !!
    </alert>


  </form>
</div>
