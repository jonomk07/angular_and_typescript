<div class="row justify-content-md-center">
 
    <div class="col col-lg-6">
      <!-- pass local reference to the form eg:(ngSubmit)="submitHandler(f)" #f="ngForm" -->
      <form class="mb-5" (ngSubmit)="submitHandler()" #f="ngForm">
        <div 
        class="form-profile"
        ngModelGroup="userProfile"
        #userProfile = "ngModelGroup"
        >
          <a [routerLink]="['/']">Home</a>
          <h4  class="mt-5">Register form</h4>
 <!-- you can access the object when you submit the form by using the form variable or referance eg:#name -->
          <!-- ***  NAME START ***-->
          <div class="form-group">
            <label>Name</label>
            <input
              type="text"
              id="name"
              name="name"
              class="form-control"
              ngModel
              required
              #name="ngModel"
            >
            <!-- check if the input is invalide show the error message eg *ngIf="!name.valid" -->
            <p class="error-label"  *ngIf="!name.valid && name.touched">
                Please enter your name
            </p>
          </div>

          <!-- ***  LASTNAME START ***-->
          <div class="form-group">
            <label>Email</label>
            <input
              type="text"
              id="email"
              name="email"
              class="form-control"
              ngModel
              required
              email
              #email="ngModel"
            >
            <p class="error-label"  *ngIf="!email.valid && email.touched">
              <span *ngIf="['email?.errors.required']"> Please enter a valid email</span>
              <span *ngIf="['email?.errors.email']"> Please enter your Email</span>
          </p>

          {{ userProfile.valid }}
           </div>
        </div>

<div class="everything-else" [hidden]="!userProfile.valid">


        <!-- ***  AGE ***-->
        <div class="form-group">
          <label for="work">Tell us your age</label>
          <select class="form-control" id="age" name="age" ngModel >
            <option 
            *ngFor="let option of ageOptions"
            [value] = "option">
              {{option}}
          </option>
          </select>
        </div>

        <!-- ***  SAY SOMETHING ***-->
        <div class="form-group">
          <label for="message">Send us a message</label>
          <textarea
            name="message"
            rows="3"
            class="form-control"
            [(ngModel)]="message"
          ></textarea>
        </div>
          {{message}}

        <!-- ***  NEWSLETTER ***-->
        <div class="form-check">
            <input
              type="checkbox"
              class="form-check-input"
              id="newsletter"
              name="newsletter"
              ngModel
            >
            <label class="form-check-label" for="newsletter">
              Subscribe to our newsletter
            </label>
        </div>

        <hr/>

        <button type="submit" class="btn btn-primary"
        [disabled]="!f.valid">Submit</button>
      </div>
      </form>

    </div>
  </div>
